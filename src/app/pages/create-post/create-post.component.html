<div class="editor-wrapper">

    <form class="editor-form" [formGroup]="createPostForm" (ngSubmit)="onSubmit()">

        <!-- <header class="editor-header">
            <h1>{{ isEditMode ? 'Edit Post' : 'Create New Post' }}</h1>
            <div class="header-actions">
                <a routerLink="/profile" class="btn-cancel-link">Cancel</a>

                <button type="submit" class="publish-btn" [disabled]="createPostForm.invalid || isSubmitting">
                    {{ isSubmitting ? 'Saving...' : (isEditMode ? 'Save Changes' : 'Publish') }}
                </button>
            </div>
        </header> -->

        <header class="editor-header">

            <div class="header-col left">
                <a routerLink="/" class="back-to-home-link">
                    ‚Üê Back to Home
                </a>
            </div>

            <div class="header-col center">
                <h1>{{ isEditMode ? 'Edit Post' : 'Create New Post' }}</h1>
            </div>

            <div class="header-col right">
                <a routerLink="/profile" class="btn-cancel-link">Cancel</a>
                <button type="submit" class="publish-btn" [disabled]="createPostForm.invalid || isSubmitting">
                    {{ isSubmitting ? 'Saving...' : (isEditMode ? 'Save Changes' : 'Publish') }}
                </button>
            </div>
        </header>

        <div class="image-preview" *ngIf="imagePreviewUrl">
            <img [src]="imagePreviewUrl" alt="Image Preview">
            <button type="button" (click)="removeImage()" class="remove-btn">&times;</button>
        </div>

        <div class="editor-main">

            <div class="editor-content">
                <div class="form-group">
                    <label for="title" class="sr-only">Post Title</label>
                    <input id="title" type="text" placeholder="Your Amazing Post Title..." class="editor-title"
                        formControlName="title">
                </div>
                <div class="form-group">
                    <label for="content" class="sr-only">Post Content</label>
                    <textarea id="content" placeholder="Write your story here..." class="editor-textarea"
                        formControlName="content"></textarea>
                </div>
            </div>

            <aside class="editor-sidebar">

                <div class="sidebar-box">
                    <h4>Featured Image</h4>

                    <div class="image-uploader" *ngIf="!imagePreviewUrl">
                        <div class="uploader-icon">üñºÔ∏è</div>
                        <p>Drag & drop or</p>
                        <label for="file-upload" class="uploader-btn">Select Image</label>
                        <input id="file-upload" type="file" (change)="onFileSelect($event)">
                    </div>

                    <div class="image-preview" *ngIf="imagePreviewUrl">
                        <img [src]="imagePreviewUrl" alt="Image Preview">
                        <button type="button" (click)="removeImage()" class="remove-btn">&times;</button>
                    </div>
                </div>

                <div class="sidebar-box">
                    <h4>Tags</h4>
                    <input type="text" class="sidebar-input" placeholder="e.g. Tech, News, Lifestyle"
                        formControlName="tags">
                    <p class="helper-text">Separate tags with a comma ( , )</p>
                </div>

                <div class="sidebar-box">
                    <h4>Excerpt (Meta Description)</h4>
                    <textarea class="sidebar-textarea" rows="4" placeholder="A short summary for search engines."
                        formControlName="excerpt"></textarea>
                    <p class="helper-text">Recommended: 160 characters</p>
                </div>

            </aside>
        </div>
    </form>
</div>